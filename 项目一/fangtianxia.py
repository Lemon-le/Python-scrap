import requests
from lxml import etree

class WebAnalyze(object):
    def send_request(self,url):
        headers = {
            'Referer': url,
            "User-Agent": 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) '
                                  'Chrome/74.0.3729.157 Safari/537.36',
            'Host': 'gz.newhouse.fang.com'
        }

        proxies = {
            'http': 'http://223.241.118.121:8010',
        }
        response = requests.get(url,headers)#proxies=proxies)

        # 对返回的信息进行初始化，构造一个XPath解析对象
        selector = etree.HTML(response.text)
        return selector

    # 获取页数
    def get_all_page(self):
        url = "https://gz.newhouse.fang.com/house/s/"
        selector = self.send_request(url)
        result = selector.xpath('//div//a[@class="last"]/@href')
        page = result[0].split('/')[3][2:]
        return page

    # 获取第一级URL
    def get_one_url(self):

        # 定义获取所有楼盘链接地址存放于列表中
        all_url = []

        # 整理后的URL存放的列表
        all_url_finall = []

        # 总页数,并将字符串分页数转换成整形
        page = self.get_all_page()
        page = int(page)

        # 根据页数URL只会变动数字，获取这个规律，就可获取所有页面下的所有楼盘信息链接
        url_1 = "https://gz.newhouse.fang.com/house/s/b9"
        url_2 = "/?ctm=1.gz.xf_search.page."
        for i in range(1,page):
            url = url_1+str(i)+url_2+str(i)
            selector = self.send_request(url)
            result = selector.xpath('//div[@class="nlcd_name"]//a/@href')
            all_url = all_url+result

        # print(len(all_url))
        # print(all_url)

        # 对获取到的URL进行获取整理
        for i in all_url:
            i = "https:"+i
            all_url_finall.append(i)
        print(all_url_finall)
        return all_url_finall

    def test1(self):
        all_url_finall = ['http://174570.fang.com/?from=xflist_xfgg']#'https://yayunchenggz.fang.com/?from=xflist_xfgg', 'https://xingfuyuwk.fang.com/', 'https://yuexiubaoliaite.fang.com/', 'https://guangzhouwandacheng.fang.com/', 'https://shanshuijunhd.fang.com/', 'https://tianjuanfenglj.fang.com/', 'https://zhujianghuachenggz.fang.com/', 'https://shangdongjiayu.fang.com/', 'https://jinshadaduhuibl.fang.com/', 'https://tianjianhui.fang.com/', 'https://283124.fang.com/', 'https://daguojingblzhjd.fang.com/', 'https://baolidongjun020.fang.com/', 'https://binhaixinchengyx.fang.com/', 'https://shouzhuhuayuanct.fang.com/', 'https://guangdiguoji.fang.com/', 'https://shanhaiwanxh020.fang.com/', 'https://hengdayufu.fang.com/', 'https://dongfangmingdugyd.fang.com/', 'https://xianghaibiansd020.fang.com/', 'https://lianfengdajingay.fang.com/', 'https://rongsuihuafujrj.fang.com/', 'https://ziyourenhuayuan.fang.com/', 'https://lvtingshanyusd.fang.com/', 'https://xiyuebgy.fang.com/', 'https://liuxiwanzq.fang.com/', 'https://174436.fang.com/', 'https://xiguanhaizx.fang.com/', 'https://shidaiqingchengqy.fang.com/', 'https://weigangsdns.fang.com/', 'https://238486.fang.com/', 'https://174344.fang.com/', 'https://173480.fang.com/', 'https://yayaolvzhou020.fang.com/', 'https://174556.fang.com/', 'https://lvdichenggz.fang.com/', 'https://tianyixsj.fang.com/', 'https://kejixiaozhengfsk.fang.com/', 'https://luolanguojibl.fang.com/', 'https://kaiyuewanxsj.fang.com/', 'https://lansehaiwanzj.fang.com/', 'https://chengshiguangchangjzygz.fang.com/', 'https://taoyuanliwk.fang.com/', 'https://lijingwanygc020.fang.com/', 'https://zhujiangyuehc.fang.com/', 'https://haishangmingyuewk020.fang.com/', 'https://pinxiuxingtu.fang.com/', 'https://baolitianyue.fang.com/', 'https://lvdiyuexiuhaiyue.fang.com/', 'https://lvhuguojichengmj.fang.com/', 'https://shibohuiwk.fang.com/', 'https://nanfangshuilianfy.fang.com/', 'https://liuxibandao.fang.com/', 'https://chunfengshiliwk.fang.com/', 'https://jinmaoguangchangth.fang.com/', 'https://huawanyihaozh.fang.com/', 'https://dazhuangmingcheng.fang.com/', 'https://yushanguojihj.fang.com/', 'https://shangchengwk.fang.com/', 'https://jinmaowanns.fang.com/', 'https://lixiangjiawk.fang.com/', 'https://yayunyuanzhu.fang.com/', 'https://huachengjibl.fang.com/', 'https://zhenyechenggz.fang.com/', 'https://tianchengyx.fang.com/', 'https://xinghuibgy020.fang.com/', 'https://yonghuafuzs020.fang.com/', 'https://heyue.fang.com/', 'https://xiangshanhujd.fang.com/', 'https://skzhc12gn.fang.com/', 'https://jiulonghu.fang.com/', 'https://yuanyangtianjiao.fang.com/', 'https://zhihuichengzhl.fang.com/', 'https://yunfengyuanzhulh.fang.com/', 'https://yilongwandj.fang.com/', 'https://yiyuefujd.fang.com/', 'https://yishanxiaozhu020.fang.com/', 'https://bailujunwk020.fang.com/', 'https://hejinghuamanli.fang.com/', 'https://mingzhuwanyihao.fang.com/', 'https://jinlongcaifuguangchang.fang.com/', 'https://baolichengns.fang.com/', 'https://yongjingwanzs020.fang.com/', 'https://shuanglongyuanzhulh020.fang.com/', 'https://dongpoyx.fang.com/', 'https://hejingtianjun.fang.com/', 'https://binfenhuiqf.fang.com/', 'https://gongyuandadaoblbgy.fang.com/', 'https://guojikonggangzhongxingz.fang.com/', 'https://guojijinrongzhongxinblhd.fang.com/', 'https://zhonghangchenghuayuan.fang.com/', 'https://wanquyihaoxh.fang.com/', 'https://guangzhoubiguiyuanyueshiguang.fang.com/', 'https://aoyuanguangchanglg.fang.com/office/', 'https://chengshizhuchangzs020.fang.com/', 'https://lantingshenghui.fang.com/', 'https://guojichengzj.fang.com/', 'https://xinghuihaizhuwanyx.fang.com/', 'https://xinghuiyunchengyx.fang.com/', 'https://meilinhuguojishequ.fang.com/', 'https://172906.fang.com/', 'https://jiaribandaobgy020.fang.com/', 'https://yunyixsj.fang.com/', 'https://shangdongyangguang020.fang.com/', 'https://kelaguangchangbgy.fang.com/', 'https://fuyadushihuating.fang.com/', 'https://nuodemingzhuzgzt.fang.com/', 'https://xinchengyujingzg.fang.com/2/', 'https://lifuhupan.fang.com/', 'https://zhonghaixiyuan020.fang.com/', 'https://zhujiangwanns.fang.com/', 'https://fenghuangchengbgy020.fang.com/', 'https://shanjingchengwk.fang.com/', 'https://930226.fang.com/', 'https://zhujiangjinmaofu.fang.com/', 'https://zongbuguangchangyx.fang.com/', 'https://aoyuanyufeng.fang.com/', 'https://huaruntianhe.fang.com/', 'https://yuegongguanlc020.fang.com/', 'https://yuegongguanlc020.fang.com/', 'https://yijinggongguanzy020.fang.com/', 'https://shuidianguangchang.fang.com/', 'https://zanglongfu.fang.com/', 'https://036132.fang.com/', 'https://tianhexingzuobx.fang.com/', 'https://feicuilvzhou.fang.com/', 'https://wanjingfengqf.fang.com/', 'https://baolidongwanyyzs.fang.com/', 'https://yunxisiji.fang.com/', 'https://baolibandao.fang.com/', 'https://yuhuayuan0202.fang.com/', 'https://liwanhuihf.fang.com/', 'https://yushanguojihj.fang.com/villa/', 'https://nanshawanyuyuan.fang.com/', 'https://tianyisklh.fang.com/020/', 'https://xingfuyuan020.fang.com/', 'https://tianhaiwanfl.fang.com/', 'https://jimeiyufengjk.fang.com/', 'https://dahongjinxiu.fang.com/', 'https://sngjgckde.fang.com/', 'https://feicuiwanhz.fang.com/', 'https://shidaitianqi.fang.com/', 'https://tianheyoholt.fang.com/', 'https://yuehaiguangchang020.fang.com/', 'https://tianyunhujing.fang.com/', 'https://fenghuyujing.fang.com/', 'https://yijingtaizy.fang.com/', 'https://guangzhouyuanzith.fang.com/', 'https://yuejiangshangpinyuan.fang.com/', 'https://feicuishanbl.fang.com/', 'https://yufengguojimj.fang.com/', 'https://shiguifuyh.fang.com/', 'https://jiangshanshidai.fang.com/', 'https://zhaoshangzhenyuan020.fang.com/', 'https://shanshuichengpinzg.fang.com/', 'https://sainahepanns.fang.com/', 'https://lingxiushanhjbl.fang.com/', 'https://xiyuewanbl.fang.com/', 'https://yabaoxincheng.fang.com/', 'https://biguiyuanzhongxin.fang.com/', 'https://yunqiflwk.fang.com/', 'https://ganghangzhongxin020.fang.com/', 'https://luhuxuan.fang.com/', 'https://zhongyangguangchangldgz.fang.com/', 'https://boyawann6.fang.com/', 'https://shengtaoshagc.fang.com/', 'https://289560.fang.com/', 'https://quanxiyuedaofy.fang.com/', 'https://shangdongziyu.fang.com/', 'https://liwanhuafuyt.fang.com/', 'https://huanmaozhongxinfl.fang.com/', 'https://changchuntengsd.fang.com/', 'https://haizhuxiaoyayjl.fang.com/', 'https://huahaiwanbl.fang.com/', 'https://guangzhouyangxi.fang.com/', 'https://tianyunhujing.fang.com/', 'https://baoliziyun.fang.com/', 'https://taohuayuanbl.fang.com/', 'https://shangdonghanyu.fang.com/', 'https://meiyinxian.fang.com/', 'https://dongshanxintiandifl.fang.com/', 'https://yunshanyipin.fang.com/', 'https://quantianxiafl.fang.com/', 'https://xiaoloudayuanbl.fang.com/', 'https://tianfuhaian.fang.com/', 'https://wukuangwanyuetai.fang.com/', 'https://balitiandirs.fang.com/', 'https://939030.fang.com/', 'https://sendaohudfwd.fang.com/', 'https://yuqingxuanns.fang.com/', 'https://julongbaoqf.fang.com/', 'https://xinyihuatingns.fang.com/', 'https://yunlubanshanbgy.fang.com/', 'https://lichengyipinshanhu.fang.com/', 'https://linkengongyuanlg020.fang.com/', 'https://heshengguangchang.fang.com/', 'https://yunheshuhy.fang.com/', 'https://xinghedandins.fang.com/', 'https://ruipinzhl.fang.com/', 'https://zhongyanggongyuanhf.fang.com/', 'https://weihuaguojihg.fang.com/', 'https://jinxiuyifang020.fang.com/', 'https://tianshujzy.fang.com/', 'https://diecuifeng020.fang.com/', 'https://yujingshanshuichengzg.fang.com/', 'https://nanshaaoyuan.fang.com/', 'https://xinghaixiaozhenbl.fang.com/', 'https://yunchengmigongyuwk.fang.com/', 'https://yuzhugangbl.fang.com/', 'https://jingyelidu.fang.com/', 'https://donghuzhouhuayuan.fang.com/', 'https://shunxinhuayuan.fang.com/', 'https://zijunfugzb020.fang.com/', 'https://jindiyangyun.fang.com/', 'https://zhongzhougongguan.fang.com/', 'https://yuxiguqj.fang.com/', 'https://longyuefuld.fang.com/', 'https://lishanyazhu.fang.com/', 'https://jiahetianyao.fang.com/', 'https://jiabinyuan.fang.com/', 'https://zgshanshuiyuyuan.fang.com/', 'https://xinghaihuibgy.fang.com/', 'https://huangjinhaianqf.fang.com/', 'https://dongjinghuayuanzj.fang.com/', 'https://yuhumingdi.fang.com/villa/', 'https://furongshufz.fang.com/', 'https://banfuxiaozhen020.fang.com/', 'https://boya1898bdzy.fang.com/', 'https://jianglonghuayuanzc.fang.com/', 'https://kangweiguangchangay.fang.com/', 'https://xinlitixianggongguanld.fang.com/', 'https://baoxiahuayuan.fang.com/2/', 'https://huijinzhongxin020.fang.com/', 'https://tianhexintiandi.fang.com/', 'https://wangguheyuanbgy.fang.com/', 'https://zhuoyamingyuanzy.fang.com/', 'https://yunzhumd.fang.com/', 'https://zhujiangjiayuan2.fang.com/', 'https://qiangweiguojisdgz.fang.com/', 'https://baiyuejingsheld.fang.com/', 'https://shuangqiao8haokd.fang.com/', 'https://junlin020.fang.com/', 'https://qiaoyayuan.fang.com/', 'https://hehexincheng.fang.com/', 'https://huibaishiguangchang.fang.com/', 'https://yuandaguangchang020.fang.com/', 'https://xiancunyihaoyh.fang.com/', 'https://zhaohuabgy.fang.com/', 'https://173718.fang.com/', 'https://shangpinguojimj.fang.com/', 'https://xifulanwan.fang.com/', 'https://174562.fang.com/', 'https://dicuixuan.fang.com/', 'https://kechengshanzhuang.fang.com/2/', 'https://liyuanyuexianghuati.fang.com/', 'https://hengdajunrui.fang.com/', 'https://jiangyuefujz.fang.com/', 'https://yujinglvzhoumc.fang.com/', 'https://jiangwanyihaoygc.fang.com/', 'https://jiangwanyihaoygc.fang.com/', 'https://qilinguangchang020.fang.com/', 'https://youshanshiguang.fang.com/', 'https://fengshangjiuli.fang.com/', 'https://dongjiangshoufubl.fang.com/shop/', 'https://qiaojianhicity.fang.com/', 'https://fulijinjie28.fang.com/', 'https://xingyueguojimj.fang.com/', 'https://shangyuanyiduhuisz.fang.com/', 'https://haiyibandaoxhw.fang.com/', 'https://weilaichengjzy.fang.com/', 'https://zhongtaitianjing.fang.com/', 'https://895554.fang.com/', 'https://zilongfuhs.fang.com/', 'https://weilaisenlinwk.fang.com/', 'https://baietanyujingyihao.fang.com/', 'https://yihezhongxin020.fang.com/', 'https://1haojzy.fang.com/', 'https://rongyujrjgz.fang.com/', 'https://yiheshanzhuanghd.fang.com/', 'https://shanhailianchengkd.fang.com/', 'https://yicuizhuangyuanhjhp.fang.com/', 'https://haizhubandaohuayuan020.fang.com/3/', 'https://173462.fang.com/', 'https://zhengyuefuyx.fang.com/', 'https://jiangyuanbandaohuayuan.fang.com/', 'https://shidaibailin.fang.com/', 'https://jiahuicheng020.fang.com/', 'https://shidaikangqiao.fang.com/', 'https://xinggangguojigw.fang.com/', 'https://huiyuanshanzhuang.fang.com/', 'https://xingshang.fang.com/', 'https://baoxingcuiyuan.fang.com/', 'https://longjinxiyuan.fang.com/', 'https://wanbochenggs.fang.com/', 'https://xintianbanshan.fang.com/', 'https://xinyuewanlwxc.fang.com/', 'https://tianmahegongguan.fang.com/', 'https://jiangpanyayuandy.fang.com/', 'https://huichuangguojild020.fang.com/', 'https://yunshanshiyiyunxify.fang.com/', 'https://qinyuan020.fang.com/', 'https://rongtingfuyt.fang.com/', 'https://863156.fang.com/', 'https://senlinzhongyang.fang.com/', 'https://wandiyataogens.fang.com/', 'https://biguiyuanconghua1960.fang.com/', 'https://haiyujujz.fang.com/', 'https://guojimingchengjx.fang.com/', 'https://minjielidu.fang.com/', 'https://shichengguoji.fang.com/', 'https://xinghaishuxcs.fang.com/', 'https://nuodezhongxingz.fang.com/', 'https://shanjingxuan2.fang.com/', 'https://senyuehuating.fang.com/', 'https://mingcuihuayuan.fang.com/4/', 'https://haihangguangchanghc.fang.com/', 'https://jiajueyuan.fang.com/', 'https://yuquanwanxrh.fang.com/', 'https://zhonghuiruiyuan.fang.com/', 'https://zhaoxinfuliguangchang.fang.com/', 'https://yuhaoxuanns.fang.com/', 'https://zhuoyueguangchang020.fang.com/', 'https://173802.fang.com/', 'https://xiangjiangtianfu.fang.com/', 'https://yiheshengshi.fang.com/', 'https://285356.fang.com/', 'https://jinhaianhuayuanjuhu.fang.com/', 'https://jiajunxinghui.fang.com/', 'https://shunxinhuayuan.fang.com/', 'https://bojueshanfl.fang.com/', 'https://qingchengguoji020.fang.com/', 'https://nanhuashidaicheng.fang.com/', 'https://yundingbgy.fang.com/', 'https://wendexiansheng.fang.com/', 'https://guojiguangchangdz.fang.com/', 'https://guojifangzhichengzj.fang.com/', 'https://dongshanyipin2.fang.com/', 'https://zhongsenmingyuan.fang.com/', 'https://huanqiuzhongxinzgtj.fang.com/', 'https://huanqiuzhongxinzgtj.fang.com/', 'https://meiyuewan.fang.com/', 'https://zhongdingminghui.fang.com/', 'https://yujianghaotingyd.fang.com/', 'https://puyuelirw.fang.com/', 'https://nantianmingyuan.fang.com/', 'https://nanshawandongyuan.fang.com/', 'https://jinshanguzs.fang.com/', 'https://gaoerfujunbl.fang.com/', 'https://haolonghuayuan.fang.com/', 'https://qianlongtianyuyx.fang.com/', 'https://zonghengguojigongyu.fang.com/', 'https://chuangjilijiangguoji.fang.com/', 'https://tengfeizhongxinli.fang.com/', 'https://haidegongguanblgzb.fang.com/', 'https://173422.fang.com/', 'https://minghuigongguan020.fang.com/', 'https://shuzishangusd.fang.com/', 'https://tianyuefurx.fang.com/', 'https://tianfengcj.fang.com/', 'https://yueshanfuscbgy.fang.com/', 'https://173242.fang.com/', 'https://lingnanvgu.fang.com/', 'https://baixinguangchang.fang.com/', 'https://yiheshengshi.fang.com/villa/', 'https://guojiguangchanghs020.fang.com/', 'https://liuhuajunting.fang.com/', 'https://biheju.fang.com/', 'https://166848.fang.com/', 'https://jinmaowannssy.fang.com/', 'https://jjxfl.fang.com/', 'https://yichengquanshuo.fang.com/', 'https://guolingcuiyuan.fang.com/', 'https://a8shangwuzhongxin.fang.com/', 'https://baiyunyhchenghh.fang.com/', 'https://lingjie.fang.com/', 'https://yinggangguoji020.fang.com/', 'https://baishengguangchang020.fang.com/', 'https://heguangchenyuebl.fang.com/', 'https://zilinsd.fang.com/', 'https://lingnanxinshijie.fang.com/', 'https://174554.fang.com/', 'https://wankeyuecheng020.fang.com/', 'https://895678.fang.com/', 'https://junlitonghe.fang.com/', 'https://dijingshanzhuang.fang.com/', 'https://duhuguoji.fang.com/', 'https://daxuexiaozhu.fang.com/', 'https://yuanpeiliwk.fang.com/', 'https://shanyuhaihh.fang.com/', 'https://yangguanglizhl.fang.com/', 'https://haolihuayuan.fang.com/', 'https://shangshangmingzhu.fang.com/', 'https://jindonghuayuan.fang.com/', 'https://etanwan.fang.com/', 'https://yingdielanwanzs.fang.com/', 'https://174560.fang.com/', 'https://yuedouhuixy.fang.com/', 'https://shangpinyaju.fang.com/', 'https://ruyingju.fang.com/', 'https://yunshanfutj.fang.com/', 'https://huangpuwankezhongxin.fang.com/', 'https://hejiahefu.fang.com/', 'https://shanqingshuixiuyb.fang.com/', 'https://hanlinshangpin020.fang.com/', 'https://fukaixingdi.fang.com/', 'https://renanhuayuan.fang.com/', 'https://qingshuilanwan020.fang.com/', 'https://zcdtzby.fang.com/', 'https://jinglinwanbo.fang.com/', 'https://jinyezibgy.fang.com/', 'https://longquanwanjy.fang.com/', 'https://qihangjingangzgf.fang.com/', 'https://liuxiyujingzg.fang.com/', 'https://yiheshanshui.fang.com/', 'https://173568.fang.com/', 'https://yuhushan020.fang.com/', 'https://defuhepanhuayuan.fang.com/', 'https://174326.fang.com/', 'https://shuianguangchangjmh.fang.com/', 'https://hehuijingyuan020.fang.com/', 'https://taohuayuan020.fang.com/', 'https://shuianguangchangjmh.fang.com/', 'https://285696.fang.com/', 'https://gz.newhouse.fang.com/house/2811173360.htm', 'https://gzwdwhlycsp.fang.com/', 'https://guangfazhengquandasha.fang.com/', 'https://hanzhongziweiyuan.fang.com/', 'https://jinzhuguangchang.fang.com/', 'https://diaoyuntaisy.fang.com/020/', 'https://tjgjzmzx.fang.com/', 'https://173308.fang.com/', 'https://yataiyinzuo.fang.com/shop/', 'https://boshiwanzj.fang.com/', 'https://174298.fang.com/', 'https://173600.fang.com/', 'https://155320.fang.com/', 'https://616622.fang.com/', 'https://hailunshiguanghlb020.fang.com/', 'https://dongfangxiawanna.fang.com/', 'https://longxianghuikd.fang.com/', 'https://jialanxuan.fang.com/', 'https://fujiguangchang.fang.com/', 'https://boyashoufu.fang.com/', 'https://tianyihuafu020.fang.com/', 'https://173604.fang.com/', 'https://huitongzhongxinzj.fang.com/', 'https://anhexiaoqu020.fang.com/', 'https://lingnanyuanzj.fang.com/', 'https://xiongfengcheng.fang.com/', 'https://shanhucheng020.fang.com/', 'https://qianxinguangchang.fang.com/', 'https://yuefeng.fang.com/', 'https://kechuangzhongxinmj.fang.com/', 'https://zhenshangyuan.fang.com/', 'https://yihaobandaofl.fang.com/', 'https://tianyuejiangwanyx2.fang.com/', 'https://jindehuiyx.fang.com/', 'https://shangxuan103.fang.com/', 'https://jiadongguangchang.fang.com/', 'https://173760.fang.com/', 'https://shidaiepark.fang.com/', 'https://binhaiyuchengyx.fang.com/shop/', 'https://tianewanqingtianyt.fang.com/', 'https://jinshanguyikuzs.fang.com/', 'https://zhijieyazhu.fang.com/', 'https://tianhejinjie.fang.com/', 'https://jinmadonghuyihao.fang.com/', 'https://yunlinghuzg.fang.com/', 'https://haifenghuayuanhc.fang.com/', 'https://174426.fang.com/', 'https://173722.fang.com/', 'https://174348.fang.com/', 'https://nanshacheng2.fang.com/', 'https://173562.fang.com/', 'https://285656.fang.com/', 'https://173348.fang.com/', 'https://lingangguoji.fang.com/', 'https://gangtiebohuigz.fang.com/', 'https://gangwangongyuwx.fang.com/', 'https://173364.fang.com/', 'https://174534.fang.com/', 'https://174438.fang.com/', 'https://fuchunshanjuyjl.fang.com/', 'https://haoyuanbgy.fang.com/', 'https://173272.fang.com/', 'https://dongjiangshoufubl.fang.com/', 'https://173502.fang.com/', 'https://bocuimingzhujk.fang.com/', 'https://haishangchuanqiwk020.fang.com/', 'https://174602.fang.com/', 'https://yuexihuayuanfl.fang.com/', 'https://289540.fang.com/', 'https://129214.fang.com/', 'https://xingxinguojigongyu.fang.com/', 'https://174308.fang.com/', 'https://lihuchenghd.fang.com/', 'https://qingyuanshidaihuachengsd.fang.com/', 'https://sanqianyuanyjl2.fang.com/', 'https://yingdongguojifl.fang.com/', 'https://aiqunhuijingwan.fang.com/', 'https://067860.fang.com/', 'https://tongchuangyucheng.fang.com/', 'https://173700.fang.com/', 'https://guojiyiyaoganggz.fang.com/', 'https://yunshanyujingzg.fang.com/', 'https://qinghuakejiyuan020.fang.com/', 'https://hupowanbgy.fang.com/', 'https://ilifangiplusbl.fang.com/', 'https://174370.fang.com/', 'https://174630.fang.com/', 'https://zhongyuanyupin.fang.com/', 'https://039816.fang.com/', 'https://haojinzuoanbgy.fang.com/', 'https://172760.fang.com/', 'https://longmenyuan020.fang.com/', 'https://lianheguangchang020.fang.com/', 'https://liuhuayuedaofy.fang.com/', 'https://895402.fang.com/', 'https://173310.fang.com/', 'https://lufulianheguangchang.fang.com/', 'https://285012.fang.com/', 'https://shunjinghuayuan020.fang.com/', 'https://173574.fang.com/', 'https://lingnanyayuan2.fang.com/', 'https://baofengchuntian.fang.com/', 'https://289640.fang.com/', 'https://sanjisoho.fang.com/', 'https://174472.fang.com/', 'https://171330.fang.com/', 'https://174212.fang.com/', 'https://guiyulantinglch.fang.com/', 'https://081916.fang.com/', 'https://174642.fang.com/', 'https://174502.fang.com/', 'https://174566.fang.com/', 'https://guanghaodasha.fang.com/', 'https://adxdagcyzx.fang.com/', 'https://289048.fang.com/', 'https://039802.fang.com/', 'https://173376.fang.com/', 'https://zhongyanggongyuanbl020.fang.com/', 'https://gjqccymygsd.fang.com/', 'https://895352.fang.com/', 'https://yudeyuan020.fang.com/', 'https://285056.fang.com/', 'https://paomadidasha.fang.com/', 'https://895316.fang.com/', 'https://174640.fang.com/', 'https://huananjiayuanhh.fang.com/', 'https://feicuihujunay.fang.com/', 'https://gjljrcjjqgzzsc.fang.com/', 'https://070776.fang.com/', 'https://174386.fang.com/', 'https://173634.fang.com/', 'https://927464.fang.com/', 'https://wanhuichengsb.fang.com/', 'https://893844.fang.com/', 'https://173500.fang.com/', 'https://939624.fang.com/']
        print(all_url_finall)
        return all_url_finall


    #获取所有楼盘的详细介绍链接地址
    def get_two_url(self):
        #result = self.get_one_url()
        result = self.test1()
        for i in result:
            print(i)
            selector = self.send_request(i)
            print(selector)
            result = selector.xpath('//div[@class="banner-box"]//*')
            print(result)








if __name__ == "__main__":
    getConn = WebAnalyze()
    #getConn.get_one_url()
    getConn.get_two_url()




